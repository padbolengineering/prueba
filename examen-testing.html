<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Examen de Entrenador de Padbol</title>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: sans-serif;
            display: flex;
            justify-content: center;
            align-items: flex-start; /* Align items to the top */
            min-height: 100vh;
            color: #ffffff; /* Color de texto general para el body */
            padding: 20px; /* Add some padding */
            box-sizing: border-box; /* Include padding in total width/height */
            /* Estilos de fondo iniciales (para la pantalla de bienvenida) */
            background-image: url('https://padbol.com/wp-content/uploads/2024/10/Video-1-min.jpg'); /* Nueva imagen de fondo */
            background-size: cover; /* Cubrir todo el fondo */
            background-position: center; /* Centrar la imagen */
            background-repeat: no-repeat; /* No repetir la imagen */
            background-attachment: fixed; /* Fija el fondo al hacer scroll */
            transition: background-image 0.5s ease-in-out, background-color 0.5s ease-in-out; /* Transición suave del fondo */
        }

        /* Clase para el fondo oscuro del quiz y del listado */
        body.quiz-active {
            background-image: none; /* Eliminar la imagen de fondo */
            background-color: #1a1a1a; /* Fondo oscuro sólido */
            background-image: linear-gradient(to bottom, #1a1a1a, #333333); /* Opcional: degradado oscuro si se prefiere */
        }


        .container {
             background-color: rgba(44, 44, 44, 0.8); /* Contenedor más oscuro con transparencia */
            padding: 30px;
            border-radius: 8px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.5); /* Sombra más pronunciada */
            max-width: 700px; /* Limit the width */
            width: 100%; /* Make it responsive */
            text-align: center;
            color: #e0e0e0; /* Color de texto dentro del contenedor */
        }

        .welcome-container {
            /* Estilos para la página de bienvenida */
            display: flex; /* Mostrar por defecto */
            flex-direction: column;
            align-items: center;
            justify-content: center;
            min-height: 300px; /* Altura mínima para centrar contenido */
        }

        .quiz-container {
            /* Estilos para el contenedor del quiz */
            display: none; /* Ocultar por defecto */
        }

         /* Estilos para la pantalla final */
        .final-result-container {
            display: none; /* Ocultar por defecto */
            flex-direction: column;
            align-items: center;
            justify-content: center;
            min-height: 300px; /* Altura mínima para centrar contenido */
            /* Estilos de fondo por defecto (serán sobreescritos por approved/failed/timed-out) */
            background-color: rgba(44, 44, 44, 0.8); /* Fondo oscuro con transparencia por defecto */
            background-image: none; /* Sin imagen de fondo por defecto */
            background-size: cover;
            background-position: center;
            background-repeat: no-repeat;
            background-attachment: fixed;
            transition: background-image 1s ease-in-out, background-color 1s ease-in-out; /* Transición suave del fondo */
        }

        /* Clase para la pantalla final de aprobado con imagen de fondo */
        .final-result-container.approved {
            background-image: url('https://padbol.com/wp-content/uploads/2024/10/Img-17-min.jpg');
            background-color: rgba(44, 44, 44, 0.5); /* Menos transparencia para que se vea la imagen */
        }

         /* Clase para la pantalla final de no aprobado (baja puntuación) con imagen de fondo */
        .final-result-container.failed {
             background-image: url('https://padbol.com/wp-content/uploads/2024/10/77-min.jpg');
             background-color: rgba(44, 44, 44, 0.6); /* Transparencia para que se vea la imagen */
             /* No hay icono de reloj aquí */
        }

         /* Clase para la pantalla final de tiempo agotado con icono de reloj */
         .final-result-container.timed-out {
             background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="%23cccccc" stroke-width="1" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"></circle><polyline points="12 6 12 12 16 14"></polyline></svg>');
             background-size: contain; /* Ajustar tamaño para que quepa */
             background-position: center; /* Centrar la imagen */
             background-repeat: no-repeat; /* No repetir la imagen */
             background-color: rgba(44, 44, 44, 0.6); /* Fondo oscuro con transparencia para que se vea el icono */
             background-attachment: scroll; /* Cambiado a scroll para que se mueva con el contenido */
         }

        /* Clase para el estado de carga de la pantalla final (inicialmente solo barra de progreso) */
        .final-result-container.loading-result {
            background-image: none !important; /* Forzar sin imagen de fondo */
            background-color: #000 !important; /* Fondo negro */
            transition: background-image 1s ease-in-out, background-color 1s ease-in-out; /* Transición suave */
        }

        /* Ocultar elementos de texto y botón en el estado de carga */
        .final-result-container.loading-result h2,
        .final-result-container.loading-result p,
        /* .final-result-container.loading-result .final-score, Removido para que el texto "Tu puntuación final..." aparezca */
        .final-result-container.loading-result .result-box button {
            opacity: 0;
            transition: opacity 0.5s ease-in-out; /* Transición suave para que aparezcan */
        }


        /* Estilos para el recuadro interior en las pantallas finales */
        .final-result-container .result-box {
            background-color: rgba(44, 44, 44, 0.7); /* Fondo semi-transparente oscuro para el recuadro */
            padding: 20px; /* Espaciado interno */
            border-radius: 8px; /* Bordes redondeados */
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.5); /* Sombra sutil */
            text-align: center; /* Centrar contenido dentro del recuadro */
             width: 100%; /* Asegurar que el recuadro ocupe el ancho del contenedor */
        }

        /* Estilos comunes para el texto en las pantallas finales */
        .final-result-container h2 {
            font-family: 'Montserrat', sans-serif;
            margin-bottom: 15px;
            text-shadow: 0 0 8px rgba(0, 0, 0, 0.8);
             transition: opacity 0.5s ease-in-out; /* Transición para que aparezcan */
        }

         .final-result-container p {
            font-size: 1.2em;
            margin-bottom: 10px;
            color: #cccccc;
             text-shadow: 0 0 5px rgba(0, 0, 0, 0.6);
             transition: opacity 0.5s ease-in-out; /* Transición para que aparezcan */
        }

         .final-score {
            font-size: 1.8em;
            font-weight: bold;
             /* Sombra de texto por defecto, será sobreescrita en approved/failed */
             text-shadow: 0 0 5px rgba(0, 0, 0, 0.6);
             margin-bottom: 10px; /* Espacio entre la puntuación y la barra */
             color: #ffffff; /* Texto de puntuación final siempre blanco */
             transition: opacity 0.5s ease-in-out; /* Transición para que aparezcan */
        }

        /* Estilos para el número de puntuación animado */
        .final-score .animated-score {
            /* Color y animación de brillo solo para el número en estado aprobado */
            transition: color 0.5s ease-in-out; /* Transición de color */
        }


        /* Ajustes de texto y sombra para la pantalla de aprobado (dentro del result-box) */
        .final-result-container.approved .result-box h2 {
             text-shadow: 0 0 10px rgba(0, 0, 0, 0.9); /* Sombra oscura más pronunciada para el título en aprobado */
             color: #ffffff; /* Asegurar color blanco */
        }

         .final-result-container.approved .result-box p {
             text-shadow: 0 0 8px rgba(0, 0, 0, 0.8); /* Sombra oscura más pronunciada para el texto en aprobado */
              color: #ffffff; /* Color de texto blanco en aprobado */
         }

         /* Estilos para el número de puntuación animado en la pantalla de aprobado con animación */
         .final-result-container.approved .result-box .animated-score {
             color: #39ff14; /* Un verde más brillante para el efecto de destello */
             text-shadow: 0 0 5px #39ff14, /* Sombra base */
                          0 0 10px #39ff14, /* Sombra más amplia */
                          0 0 15px #39ff14; /* Sombra aún más amplia */
             animation: neon-glow 1.5s ease-in-out infinite alternate; /* Aplicar la animación */
         }

        /* Definición de la animación de destello */
        @keyframes neon-glow {
            from {
                text-shadow: 0 0 5px #39ff14,
                             0 0 10px #39ff14,
                             0 0 15px #39ff14;
                opacity: 1;
            }
            to {
                text-shadow: 0 0 8px #39ff14,
                             0 0 15px #39ff14,
                             0 0 25px #39ff14;
                opacity: 0.8;
            }
        }


        /* Ajustes de texto y sombra para la pantalla de no aprobado (dentro del result-box)*/
        .final-result-container.failed .result-box h2 {
             text-shadow: 0 0 10px rgba(0, 0, 0, 0.9); /* Sombra oscura para el título en no aprobado */
             color: #ffffff; /* Asegurar color blanco */
        }

        .final-result-container.failed .result-box p {
             text-shadow: 0 0 8px rgba(0, 0, 0, 0.8); /* Sombra oscura para el texto en no aprobado */
             color: #cccccc; /* Color de texto gris claro en no aprobado */
        }

        .final-result-container.failed .result-box .final-score {
             /* text-shadow: 0 0 8px rgba(0, 0, 0, 0.8); Sombra oscura para la puntuación en no aprobado */
             /* color: #ff0000; Asegurar color rojo para la puntuación */
        }

         /* Estilos para el número de puntuación animado en la pantalla de no aprobado */
         .final-result-container.failed .result-box .animated-score {
             color: #ff0000; /* Color rojo para el número en estado desaprobado */
              text-shadow: 0 0 8px rgba(255, 0, 0, 0.8); /* Sombra roja */
         }


        /* Wrapper para centrar la puntuación y la barra de progreso */
        .score-progress-wrapper {
            width: 100%; /* Ocupar el ancho disponible */
            display: flex; /* Usar flexbox */
            flex-direction: column; /* Apilar elementos verticalmente */
            align-items: center; /* Centrar horizontalmente */
            margin-bottom: 20px; /* Espacio debajo del wrapper */
        }


        /* Estilos para el contenedor de la barra de progreso */
        .progress-bar-container {
            width: 80%; /* Ancho del contenedor de la barra */
            height: 25px; /* Altura de la barra */
            background-color: #555; /* Fondo gris oscuro */
            border-radius: 5px;
            /* margin-top: 20px; Removido, ahora el wrapper maneja el espacio */
            overflow: hidden; /* Ocultar el exceso de la barra de progreso */
            position: relative; /* Para posicionar la línea de aprobación y el texto */
            box-shadow: inset 0 1px 3px rgba(0, 0, 0, 0.2); /* Sombra interior */
        }

        .progress-bar {
            height: 100%;
            background-color: #00aaff; /* Color de la barra (azul) */
            width: 0%; /* Ancho inicial */
            transition: width 2s ease-in-out; /* Animación suave del ancho - AUMENTADO A 2s */
            /* Eliminamos los estilos de centrado y texto de aquí */
        }

        /* Estilos para el texto del porcentaje */
        .percentage-text {
            position: absolute; /* Posicionamiento absoluto dentro del contenedor */
            top: 50%; /* Alinear verticalmente al centro */
            left: 50%; /* Alinear horizontalmente al centro */
            transform: translate(-50%, -50%); /* Centrar perfectamente */
            color: #fff; /* Color del texto */
            font-weight: bold;
            text-shadow: 0 0 5px rgba(0, 0, 0, 0.5);
            z-index: 2; /* Asegurar que esté por encima de la barra */
        }


        /* Línea indicadora del puntaje de aprobación */
        .passing-line {
            position: absolute;
            top: 0;
            bottom: 0;
            width: 2px; /* Grosor de la línea */
            background-color: #00ff00; /* Color verde */
            z-index: 1; /* Asegurar que esté por encima de la barra */
            box-shadow: 0 0 5px rgba(0, 255, 0, 0.8); /* Sombra para que destaque */
        }


        h1 {
            /* Estilos para el título moderno */
            font-family: 'Montserrat', sans-serif; /* Aplicar la nueva fuente */
            color: #ffffff; /* Color de título blanco */
            margin-bottom: 20px;
            text-shadow: 0 0 8px rgba(0, 0, 0, 0.8); /* Sombra de texto más visible */
            animation: none; /* Desactivar animación de brillo para mejor legibilidad con imagen */
        }


        #welcome-message, #quiz-info, #question, #score {
             /* Sombra de texto para otros elementos importantes */
            text-shadow: 0 0 5px rgba(0, 0, 0, 0.6);
        }


        #welcome-message {
            font-size: 1.5em;
            margin-bottom: 20px;
            color: #ffffff;
        }

        #quiz-info {
            font-size: 1.1em;
            margin-bottom: 30px;
            color: #cccccc;
        }

        /* Estilos para el temporizador */
        #timer {
            font-size: 1.8em; /* Aumentar tamaño para que destaque */
            font-weight: bold;
            color: #ffffff; /* Color blanco por defecto */
            margin-bottom: 20px;
            text-shadow: 0 0 5px rgba(255, 255, 255, 0.5); /* Sombra blanca sutil */
            animation: subtle-flash 1.5s infinite alternate; /* Animación de destello sutil */
        }

        /* Estilo para el temporizador cuando queda poco tiempo */
        #timer.timer-warning {
            color: #ff0000; /* Color rojo */
            text-shadow: 0 0 8px rgba(255, 0, 0, 0.8); /* Sombra roja para que destaque */
        }


        @keyframes subtle-flash {
            from {
                opacity: 1;
                /* text-shadow se maneja en los estilos normales y timer-warning */
            }
            to {
                opacity: 0.8;
                /* text-shadow se maneja en los estilos normales y timer-warning */
            }
        }


        #question {
            font-size: 1.3em; /* Aumentar tamaño de fuente */
            margin-bottom: 20px;
            color: #ffffff; /* Color de pregunta */
            text-align: left; /* Align question text to the left */
            line-height: 1.5; /* Espaciado entre líneas */
        }

        #options {
            text-align: left; /* Align options to the left */
            margin-bottom: 20px;
        }

        .option {
            display: flex; /* Usar flexbox para alinear contenido y el ícono */
            align-items: center; /* Alinear verticalmente */
            margin-bottom: 15px; /* Space between options */
            cursor: pointer; /* Indicate clickable area */
            padding: 12px; /* Aumentar padding */
            /* Estilos para la tarjeta blanca */
            background-color: #ffffff; /* Fondo blanco */
            color: #333; /* Color de texto oscuro para contrastar */
            border: 1px solid #ddd; /* Borde sutil */
            border-radius: 5px;
            box-shadow: 0 1px 5px rgba(0, 0, 0, 0.1); /* Sombra sutil */
            transition: background-color 0.3s ease, border-color 0.3s ease, box-shadow 0.3s ease;
            position: relative; /* Necesario para posicionar el ícono */
        }

        .option:hover {
            background-color: #f0f0f0; /* Fondo ligeramente gris al pasar el ratón */
            border-color: #007bff; /* Borde azul al pasar el ratón */
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2); /* Sombra un poco más pronunciada al pasar el ratón */
        }

        .option input[type="radio"] {
            margin-right: 10px;
            /* Estilos básicos para el radio button (puede variar el soporte) */
            accent-color: #007bff;
            /* Ocultar radio buttons en el modal */
            .modal-quiz-content & {
                display: none;
            }
        }

        /* Estilos para el feedback visual en las opciones */
        .option.correct {
            background-color: #d4edda; /* Verde claro */
            border-color: #28a745; /* Borde verde */
            color: #155724; /* Texto verde oscuro */
        }

        .option.incorrect {
            background-color: #f8d7da; /* Rojo claro */
            border-color: #dc3545; /* Borde rojo */
            color: #721c24; /* Texto rojo oscuro */
        }

        /* Estilos para los íconos */
        .option::after {
            content: '';
            position: absolute;
            right: 10px;
            top: 50%;
            transform: translateY(-50%);
            font-size: 1.5em;
            font-weight: bold;
        }

        .option.selected-correct::after {
            content: '✓'; /* Tilde */
            color: #28a745; /* Verde */
        }

        .option.selected-incorrect::after {
            content: '✗'; /* Cruz */
            color: #dc3545; /* Rojo */
        }


        button {
            padding: 12px 25px; /* Aumentar padding */
            font-size: 1.1em; /* Aumentar tamaño de fuente */
            color: #ffffff;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            transition: background-color 0.3s ease, transform 0.1s ease, background 0.3s ease;
            margin-top: 15px; /* Aumentar margen superior */
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.3);
        }

        /* Estilos para el botón Responder y Comenzar Examen: rojo oscuro con degradado */
        /* Incluimos el botón de reintentar aquí para que tenga el mismo estilo */
        #submit-button, #start-button, #retry-button {
             background: linear-gradient(to bottom, #a00000, #8b0000); /* Degradado rojo oscuro */
             box-shadow: 0 4px 8px rgba(0, 0, 0, 0.4); /* Sombra más pronunciada para botones */
             transition: opacity 0.5s ease-in-out; /* Transición para que aparezcan */
        }

        /* Estilos hover para los botones */
        #submit-button:hover, #start-button:hover, #retry-button:hover {
            /* Degradado ligeramente diferente al pasar el ratón */
            background: linear-gradient(to bottom, #b30000, #990000);
            transform: translateY(-2px); /* Efecto ligero al pasar el ratón */
             box-shadow: 0 6px 10px rgba(0, 0, 0, 0.5); /* Sombra más grande al pasar el ratón */
        }

        /* Estilos active para los botones */
        #submit-button:active, #start-button:active, #retry-button:active {
            transform: translateY(0); /* Efecto al hacer click */
             box-shadow: 0 2px 5px rgba(0, 0, 0, 0.3);
        }

         /* Estilo específico para el botón Siguiente Pregunta */
        #next-button {
            display: none; /* Initially hidden */
             background: linear-gradient(to bottom, #a00000, #8b0000); /* Degradado rojo oscuro */
             box-shadow: 0 4px 8px rgba(0, 0, 0, 0.4); /* Sombra más pronunciada para botones */
        }

        #next-button:hover {
             background: linear-gradient(to bottom, #b30000, #990000); /* Degradado ligeramente diferente al pasar el ratón */
             transform: translateY(-2px); /* Efecto ligero al pasar el ratón */
             box-shadow: 0 6px 10px rgba(0, 0, 0, 0.5); /* Sombra más grande al pasar el ratón */
        }

         #next-button:active {
            transform: translateY(0); /* Efecto al hacer click */
             box-shadow: 0 2px 5px rgba(0, 0, 0, 0.3);
         }

        /* Estilos para los botones de prueba */
        .test-buttons {
            margin-top: 20px;
            display: flex; /* Usar flexbox */
            justify-content: center; /* Centrar horizontalmente */
            gap: 10px; /* Espacio entre botones */
            flex-wrap: wrap; /* Permitir que los botones se envuelvan en pantallas pequeñas */
        }

        .test-buttons button {
            padding: 10px 20px;
            font-size: 1em;
            background: linear-gradient(to bottom, #444, #222); /* Degradado oscuro */
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.3);
            margin-top: 0; /* Reset margin-top from general button style */
        }

         .test-buttons button:hover {
            background: linear-gradient(to bottom, #555, #333);
            transform: translateY(-2px);
            box-shadow: 4px 6px 8px rgba(0, 0, 0, 0.4);
         }

         .test-buttons button:active {
            transform: translateY(0);
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.3);
         }


        #feedback {
            margin-top: 20px;
            font-size: 1.2em; /* Aumentar tamaño de fuente */
            font-weight: bold;
            min-height: 1.5em; /* Reservar espacio para el feedback */
            color: transparent; /* Ocultar el texto de feedback original */
        }

        #score {
            margin-top: 30px;
            font-size: 1.6em; /* Aumentar tamaño de fuente */
            font-weight: bold;
            color: #00aaff; /* Color de puntuación */
        }

        /* Estilos para el contenedor del listado de preguntas */
        #questions-list-container {
            display: none; /* Ocultar por defecto */
            text-align: left; /* Alinear texto a la izquierda */
            max-height: 80vh; /* Limitar altura para scroll */
            overflow-y: auto; /* Añadir scroll vertical */
            padding-right: 15px; /* Espacio para la barra de scroll */
            padding-bottom: 80px; /* Add padding at the bottom to make space for the fixed button */
            position: relative; /* Needed for absolute positioning of children if any in the future */
        }

        #questions-list-container h2 {
            text-align: center; /* Centrar título */
            margin-bottom: 20px;
            color: #ffffff;
            text-shadow: 0 0 8px rgba(0, 0, 0, 0.8);
        }

        .question-item {
            background-color: rgba(255, 255, 255, 0.1); /* Fondo semi-transparente para cada pregunta */
            padding: 15px;
            margin-bottom: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
            cursor: pointer; /* Indicar que es clickeable */
            transition: background-color 0.3s ease, box-shadow 0.3s ease;
        }

        .question-item:hover {
             background-color: rgba(255, 255, 255, 0.2); /* Ligeramente más opaco al pasar el ratón */
             box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
        }


        .question-item p {
            margin-bottom: 10px;
            font-size: 1.1em;
            color: #e0e0e0;
            text-shadow: none; /* Eliminar sombra para mejor legibilidad */
        }

        .question-item ul {
            list-style: none;
            padding: 0;
            margin-top: 5px;
        }

        .question-item ul li {
            margin-bottom: 5px;
            color: #cccccc;
        }

        .question-item .correct-answer {
            font-weight: bold;
            color: #39ff14; /* Color verde brillante para la respuesta correcta */
            margin-top: 10px;
            padding-top: 10px;
            border-top: 1px dashed rgba(255, 255, 255, 0.2); /* Línea separadora */
        }

        /* Estilos para el botón de ver listado */
        #show-questions-button {
            margin-top: 20px;
            padding: 10px 20px;
            font-size: 1em;
            background: linear-gradient(to bottom, #444, #222); /* Degradado oscuro */
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.3);
        }

         #show-questions-button:hover {
            background: linear-gradient(to bottom, #555, #333);
            transform: translateY(-2px);
            box-shadow: 4px 6px 8px rgba(0, 0, 0, 0.4);
         }

         #show-questions-button:active {
            transform: translateY(0);
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.3);
         }

         /* Estilos para el botón de cerrar listado */
         #close-questions-list {
            margin-top: 0; /* Remove default margin-top */
            padding: 10px 20px;
            font-size: 1em;
            background: linear-gradient(to bottom, #a00000, #8b0000); /* Degradado rojo oscuro */
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.4);
            /* Fixed positioning */
            position: fixed;
            bottom: 20px; /* Distance from the bottom */
            left: 50%; /* Center horizontally */
            transform: translateX(-50%); /* Adjust for the button's width */
            z-index: 100; /* Ensure it's above the list content */
            width: auto; /* Adjust width based on content */
         }

          #close-questions-list:hover {
             background: linear-gradient(to bottom, #b30000, #990000); /* Degradado ligeramente diferente al pasar el ratón */
             transform: translateX(-50%) translateY(-2px); /* Apply both transforms */
             box-shadow: 0 6px 10px rgba(0, 0, 0, 0.5); /* Sombra más grande al pasar el ratón */
         }

          #close-questions-list:active {
             transform: translateX(-50%) translateY(0); /* Apply both transforms */
             box-shadow: 0 2px 5px rgba(0, 0, 0, 0.3);
          }

        /* Estilos para el Modal */
        .modal-overlay {
            display: none; /* Oculto por defecto */
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.7); /* Fondo oscuro semi-transparente */
            z-index: 1000; /* Asegurar que esté por encima de todo */
            justify-content: center;
            align-items: center;
            overflow-y: auto; /* Permitir scroll si el contenido es largo */
            padding: 20px; /* Padding around the modal content */
            box-sizing: border-box;
        }

        .modal-content {
            background-color: rgba(44, 44, 44, 0.9); /* Fondo oscuro con más opacidad */
            padding: 30px;
            border-radius: 8px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.7);
            max-width: 600px; /* Ancho máximo del modal */
            width: 100%;
            position: relative; /* Para posicionar el botón de cerrar */
            color: #e0e0e0; /* Color de texto */
        }

        .modal-close {
            position: absolute;
            top: 10px;
            right: 10px;
            font-size: 1.5em;
            font-weight: bold;
            color: #ffffff;
            cursor: pointer;
            transition: color 0.3s ease;
        }

        .modal-close:hover {
            color: #ff0000; /* Rojo al pasar el ratón */
        }

        /* Estilos específicos para el contenido del quiz dentro del modal */
        .modal-quiz-content #question {
             font-size: 1.2em; /* Ajustar tamaño de fuente */
             margin-bottom: 15px;
             text-align: left;
        }

        .modal-quiz-content #options .option {
             padding: 10px; /* Ajustar padding */
             margin-bottom: 10px; /* Ajustar margen */
             cursor: default; /* No es clickeable en el modal */
        }

         .modal-quiz-content #options .option:hover {
             background-color: #ffffff; /* No cambiar color al pasar el ratón */
             border-color: #ddd; /* No cambiar borde al pasar el ratón */
             box-shadow: 0 1px 5px rgba(0, 0, 0, 0.1); /* No cambiar sombra al pasar el ratón */
         }

         .modal-quiz-content #options .option input[type="radio"] {
             display: none; /* Ocultar radio buttons en el modal */
         }

        .modal-quiz-content #timer,
        .modal-quiz-content #submit-button,
        .modal-quiz-content #next-button,
        .modal-quiz-content #feedback,
        .modal-quiz-content #score {
            display: none; /* Ocultar elementos del quiz que no son relevantes en el modal */
        }


    </style>
</head>
<body>

    <div class="container">
        <div class="welcome-container" id="welcome-screen">
            <h1>¡Bienvenido al Examen de Entrenador de Padbol!</h1>
            <p id="welcome-message">Este examen consta de 57 preguntas de opción múltiple y tendrás 25 minutos para completarlo.</p>
            <p id="quiz-info">Cuando te sientas preparado, simplemente presiona el botón "Comenzar Examen" para iniciar.</p>
            <button id="start-button">Comenzar Examen</button>
            <p id="success-message" style="margin-top: 20px; font-size: 1.2em; color: #00ff00; display: none;">¡Te deseamos mucho éxito!</p>

            <div class="test-buttons">
                <button id="test-approved-button">Ver Pantalla Aprobado</button>
                <button id="test-failed-button">Ver Pantalla Desaprobado</button>
                <button id="test-timedout-button">Ver Pantalla Tiempo Agotado</button>
            </div>

            <button id="show-questions-button">Ver Listado de Preguntas y Respuestas</button>

        </div>

        <div class="quiz-container" id="quiz-screen">
            <div id="timer">25:00</div>
            <div id="question"></div>
            <div id="options">
                </div>
            <button id="submit-button">Responder</button>
            <div id="feedback"></div>
            <button id="next-button">Siguiente Pregunta</button>
            <div id="score"></div>
        </div>

        <div class="final-result-container" id="final-result-screen">
            </div>

        <div id="questions-list-container">
            <h2>Listado de Preguntas y Respuestas</h2>
            <div id="questions-list-content">
                </div>
            </div>

    </div>

    <button id="close-questions-list">Cerrar Listado</button>


    <div id="question-modal" class="modal-overlay">
        <div class="modal-content">
            <span class="modal-close">&times;</span>
            <div class="modal-quiz-content">
                <div id="modal-question"></div>
                <div id="modal-options"></div>
            </div>
        </div>
    </div>


    <script>
        const questions = [
            {
                question: "Según el manual, ¿dónde debe botar la pelota antes de ser puesta en juego en un saque o servicio?",
                options: [
                    "En la zona de servicio del sacador.",
                    "En el suelo detrás de la línea de fondo.",
                    "En la zona de recepción del rival.",
                    "En el cristal lateral del sacador."
                ],
                correctAnswer: "En el suelo detrás de la línea de fondo."
            },
            {
                question: "En el saque, ¿hacia dónde se debe dirigir la pelota?",
                options: [
                    "Hacia cualquier punto del campo contrario.",
                    "Hacia la puerta del campo contrario.",
                    "Hacia el centro del campo contrario.",
                    "Hacia el campo contrario en sentido cruzado."
                ],
                correctAnswer: "Hacia el campo contrario en sentido cruzado."
            },
             {
                question: "¿Es posible hacer rebotar la pelota con los cristales en el saque?",
                options: [
                    "No, solo en juego.",
                    "Solo en el segundo servicio.",
                    "Sí, es posible.",
                    "Solo en niveles avanzados."
                ],
                correctAnswer: "Sí, es posible."
            },
            {
                question: "¿Cuál es la zona de la pista de donde debes estar ubicado para realizar el saque?",
                options: [
                    "Zona de recepción.",
                    "Zona de servicio.",
                    "Línea de fondo.",
                    "Zona roja o de ataque."
                ],
                correctAnswer: "Zona de servicio."
            },
            {
                question: "Según el manual, ¿cuál es la superficie de contacto más adecuada para el servicio directo en nivel iniciación para tener mayor control?",
                options: [
                    "Empeine.",
                    "Muslo.",
                    "Interior del pie.",
                    "Cabeza."
                ],
                correctAnswer: "Interior del pie."
            },
            {
                question: "¿Cuándo se recomienda impactar el balón en el servicio directo para tener mayor control y fuerza necesaria?",
                options: [
                    "A bote pronto.",
                    "Cuando el balón está subiendo.",
                    "Cuando el balón ya está bajando.",
                    "Justo en el momento más alto del bote."
                ],
                correctAnswer: "Justo en el momento más alto del bote."
            },
            {
                question: "En el servicio con cristal lateral, ¿cuál es la principal dificultad para el jugador que se inicia?",
                options: [
                    "No adaptarse al peso del balón.",
                    "Imprimir demasiada fuerza.",
                    "Encontrar el ángulo y la fuerza necesarias con que el balón debe rebotar en el cristal.",
                    "Hacer botar la pelota en la zona de recepción."
                ],
                correctAnswer: "Encontrar el ángulo y la fuerza necesarias con que el balón debe rebotar en el cristal."
            },
            {
                question: "¿En qué orden deben rebotar los cristales en el servicio a doble cristal en nivel intermedio?",
                options: [
                    "Cristal lateral y luego cristal de fondo.",
                    "Cualquier orden es válido.",
                    "Cristal de fondo y luego cristal lateral.",
                    "Cristal de fondo y/o lateral, pero antes de botar."
                ],
                correctAnswer: "Cristal de fondo y luego cristal lateral."
            },
             {
                question: "Para un jugador diestro sacando desde el lado izquierdo en un servicio a doble cristal (nivel intermedio), ¿qué superficie de golpeo se aconseja usar?",
                options: [
                    "Empeine exterior.",
                    "Interior del pie.",
                    "Cabeza.",
                    "Empeine interior."
                ],
                correctAnswer: "Empeine interior."
            },
            {
                question: "En Padbol, ¿cómo se describe la relación entre ataque y defensa?",
                options: [
                    "Un buen ataque es la mejor defensa.",
                    "La defensa es secundaria al ataque.",
                    "El mejor ataque es una buena defensa.",
                    "Ataque y defensa son igual de importantes pero independientes."
                ],
                correctAnswer: "El mejor ataque es una buena defensa."
            },
             {
                question: "Según el manual, ¿cuál es la colocación ideal de una pareja en pista si uno es diestro y el otro zurdo?",
                options: [
                    "El diestro a la derecha y el zurdo a la izquierda.",
                    "Ambos en el centro.",
                    "El diestro a la izquierda y el zurdo a la derecha.",
                    "Depende de si son colocador o rematador."
                ],
                correctAnswer: "El diestro a la izquierda y el zurdo a la derecha."
            },
            {
                question: "Si los dos jugadores de una pareja son diestros, ¿cómo deberían determinar quién juega en cada lado idealmente?",
                options: [
                    "El que tenga mejor saque en la derecha.",
                    "El que tenga mejor defensa en la izquierda.",
                    "El jugador más rematador en el lado izquierdo y el más colocador en el lado derecho.",
                    "Ambos deben variar constantemente de posición."
                ],
                correctAnswer: "El jugador más rematador en el lado izquierdo y el más colocador en el lado derecho."
            },
            {
                question: "Si eres diestro y juegas en la izquierda, y el rival envía el balón al fondo de la pista, ¿dónde se recomienda colocarse para recibir el saque y por qué?",
                options: [
                    "A fondo de pista para tener más tiempo.",
                    "En el centro de la pista para cubrir más ángulo.",
                    "Cerca de la puerta para usar el interior del pie hábil y estar cerca si el saque busca la puerta.",
                    "Adelantado para presionar la red."
                ],
                correctAnswer: "Cerca de la puerta para usar el interior del pie hábil y estar cerca si el saque busca la puerta."
            },
             {
                question: "Si el rival saca a doble cristal con potencia y velocidad, ¿dónde se recomienda situarse para recepcionar el saque?",
                options: [
                    "Cerca de la red para bloquear.",
                    "A fondo de pista.",
                    "Cerca de la puerta.",
                    "En el centro de la pista."
                ],
                correctAnswer: "A fondo de pista."
            },
            {
                question: "Si el saque rival busca la puerta, ¿dónde es mejor estar posicionado para recepcionar?",
                options: [
                    "A fondo de pista.",
                    "En el centro de la pista.",
                    "Adelantado.",
                    "Apoyado en el cristal de fondo."
                ],
                correctAnswer: "Adelantado."
            },
            {
                question: "Siendo diestro y jugando en la derecha, y el rival envía el balón a fondo de pista, ¿qué deberás hacer si estás adelantado?",
                options: [
                    "Correr hacia la red para sorprender.",
                    "Pedir tiempo.",
                    "Pasarle el balón a tu compañero de forma directa.",
                    "Jugar con la pierna menos hábil o apoyándote en el cristal de fondo."
                ],
                correctAnswer: "Jugar con la pierna menos hábil o apoyándote en el cristal de fondo."
            },
            {
                question: "¿Cuál es la estructura ideal de una jugada de ataque en Padbol según el manual?",
                options: [
                    "Recepción, remate, colocación.",
                    "Primer toque, colocación, remate.",
                    "Colocación, primer toque, remate.",
                    "Primer toque, remate directo."
                ],
                correctAnswer: "Primer toque, colocación, remate."
            },
            {
                question: "¿Por qué es fundamental el primer toque o recepción en Padbol?",
                options: [
                    "Porque permite ganar el punto directamente.",
                    "Porque es la única forma de pasar el balón al campo contrario.",
                    "Porque de ello dependerá la construcción de un buen ataque.",
                    "Porque siempre se puede atacar de segundo toque si el primero es bueno."
                ],
                correctAnswer: "Porque de ello dependerá la construcción de un buen ataque."
            },
            {
                question: "¿Hacia dónde debe dirigirse el balón en un buen primer toque hacia el compañero?",
                options: [
                    "Directamente a donde está parado el compañero.",
                    "Hacia la zona defensiva.",
                    "Hacia el lado de influencia del compañero, cercana al centro y hacia la zona roja (de ataque).",
                    "Con una trayectoria recta y rápida."
                ],
                correctAnswer: "Hacia el lado de influencia del compañero, cercana al centro y hacia la zona roja (de ataque)."
            },
            {
                question: "¿Cuál es uno de los errores frecuentes al realizar un primer toque hacia el compañero, influenciado por el fútbol?",
                options: [
                    "Pasarla a la zona roja.",
                    "Hacerla rebotar en los cristales.",
                    "Realizar un pase donde el balón describe una trayectoria recta hacia donde está situado exactamente el compañero.",
                    "Dirigirla con una parábola."
                ],
                correctAnswer: "Realizar un pase donde el balón describe una trayectoria recta hacia donde está situado exactamente el compañero."
            },
            {
                question: "Si no estás bien perfilado respecto a tu compañero para pasarle el balón, ¿qué se recomienda para solventar este error en el primer toque?",
                options: [
                    "Pasarla directamente con la pierna menos hábil.",
                    "Intentar rematar de primer toque.",
                    "Pedirle a tu compañero que se mueva a tu posición.",
                    "Apoyarse en los cristales lateral o de fondo para hacer rebotar el balón."
                ],
                correctAnswer: "Apoyarse en los cristales lateral o de fondo para hacer rebotar el balón."
            },
            {
                question: "¿En qué zonas de la pista se permite pasar la pelota al campo contrario de primer toque sin combinar con el compañero?",
                options: [
                    "Solo desde la zona de servicio.",
                    "Desde cualquier parte de la pista usando los cristales.",
                    "Desde la zona roja o de ataque y haciendo rebotar el balón en los cristales de nuestro propio campo (como acción defensiva forzada).",
                    "Solo si la pareja rival está adelantada."
                ],
                correctAnswer: "Desde la zona roja o de ataque y haciendo rebotar el balón en los cristales de nuestro propio campo (como acción defensiva forzada)."
            },
            {
                question: "El reglamento de Padbol permite hacer rebotar el balón en los cristales de la propia pista para enviarlo a la pista contraria. ¿En qué toques se puede realizar esta acción?",
                options: [
                    "Solo en el primer toque.",
                    "Solo en el segundo o tercer toque.",
                    "Solo en el primer toque desde la zona roja.",
                    "En el primer, segundo o tercer toque."
                ],
                correctAnswer: "En el primer, segundo o tercer toque."
            },
             {
                question: "¿Qué aspecto convierte al Padbol en un deporte moderno y le proporciona vistosidad, dinamismo, continuidad y diversión?",
                options: [
                    "La fusión de habilidades de otros deportes.",
                    "La cancha cerrada.",
                    "El sistema de puntuación.",
                    "El juego con los cristales."
                ],
                correctAnswer: "El juego con los cristales."
            },
            {
                question: "¿Cuándo se debe usar el juego con los cristales de forma combinativa (para pasar al compañero)?",
                options: [
                    "Solo cuando se busca un efecto específico.",
                    "Cuando no se esté perfilado correctamente hacia el compañero (por ejemplo, de espaldas).",
                    "Siempre que el compañero esté cerca de la red.",
                    "Solo para hacer una colocación de cabeza."
                ],
                correctAnswer: "Cuando no se esté perfilado correctamente hacia el compañero (por ejemplo, de espaldas)."
            },
            {
                question: "¿Cómo debe ser el pase al compañero usando el cristal para que se considere un buen pase combinativo?",
                options: [
                    "Debe ir directo y rápido.",
                    "Debe rebotar en la parte baja del cristal.",
                    "Haciendo rebotar el balón en la zona alta del cristal para que describa una parábola.",
                    "Debe botar en la pista antes de rebotar en el cristal."
                ],
                correctAnswer: "Haciendo rebotar el balón en la zona alta del cristal para que describa una parábola."
            },
            {
                question: "¿Cuál es la superficie de contacto más habitual para realizar el golpeo de finalización (remate), especialmente en niveles de iniciación e intermedios?",
                options: [
                    "Empeine.",
                    "Interior del pie.",
                    "Muslo.",
                    "Cabeza."
                ],
                correctAnswer: "Cabeza."
            },
            {
                question: "¿Por qué es importante dominar el remate de cabeza en Padbol?",
                options: [
                    "Porque es la única forma de hacer puntos.",
                    "Para conseguir un mayor volumen de puntos al finalizar el partido.",
                    "Para poder jugar cerca de la red.",
                    "Para variar la fuerza del remate."
                ],
                correctAnswer: "Para conseguir un mayor volumen de puntos al finalizar el partido."
            },
            {
                question: "¿Cuál es el objetivo del remate de cabeza \"por la puerta\"?",
                options: [
                    "Que el balón rebote en el cristal lateral y luego salga por la puerta.",
                    "Que el balón no rebote en ningun cristal y salga directamente por la puerta.",
                    "Que el balón bote y salga por la puerta sin dar rebote en el cristal lateral del rival.",
                    "Que el balón golpee en la puerta y vuelva a entrar."
                ],
                correctAnswer: "Que el balón bote y salga por la puerta sin dar rebote en el cristal lateral del rival."
            },
            {
                question: "¿Qué efecto tiene variar la fuerza con la que se remata sobre el rival?",
                options: [
                    "Le facilita la recepción.",
                    "No tiene ningun efecto.",
                    "Le genera incertidumbre y dudas posicionales.",
                    "Solo es útil en niveles avanzados."
                ],
                correctAnswer: "Le genera incertidumbre y dudas posicionales."
            },
            {
                question: "¿Cuándo es más fácil conseguir realizar la acción de buscar que el balón golpee en el cuerpo de uno de los rivales para ganar el punto?",
                options: [
                    "Cuando los rivales están a fondo de pista.",
                    "Cuando solo dominamos el remate de cabeza.",
                    "Mientras más maneras de rematar dominemos.",
                    "Cuando estamos en la zona defensiva."
                ],
                correctAnswer: "Mientras más maneras de rematar dominemos."
            },
            {
                question: "En Padbol, dispones de dos servicios. ¿Qué se recomienda hacer con el primer servicio?",
                options: [
                    "Asegurarlo para no cometer doble falta.",
                    "Siempre sacarlo a doble cristal.",
                    "Tomar riesgos para dificultar al máximo la recepción del rival.",
                    "Sacarlo suave y al centro."
                ],
                correctAnswer: "Tomar riesgos para dificultar al máximo la recepción del rival."
            },
            {
                question: "¿Cuál es la principal consecuencia de ser repetitivo en los saques?",
                options: [
                    "Ganar más puntos de saque.",
                    "Que los rivales cometan más errores.",
                    "Que el partido sea más predecible.",
                    "Que los rivales puedan adaptarse a ellos y dejes de incomodarlos."
                ],
                correctAnswer: "Que los rivales puedan adaptarse a ellos y dejes de incomodarlos."
            },
             {
                question: "¿En qué circunstancias se puede atacar de segundo toque?",
                options: [
                    "Siempre que el balón esté en la zona roja.",
                    "Solo si el compañero realiza una colocación de cabeza.",
                    "Si somos capaces de realizar una buena colocación de primer toque y el balón está en disposición de ser rematado.",
                    "Nunca, el ataque siempre es de tercer toque."
                ],
                correctAnswer: "Si somos capaces de realizar una buena colocación de primer toque y el balón está en disposición de ser rematado."
            },
            // Section 2 Questions
            {
                question: "Según el manual, ¿qué fusiona la disciplina del Padbol en cuanto a habilidades deportivas?",
                options: [
                    "Pádel y Fútbol.",
                    "Tenis, Vóley y Squash.",
                    "Fútbol, tenis, pádel, vóley y squash.",
                    "Solo deportes de pelota."
                ],
                correctAnswer: "Fútbol, tenis, pádel, vóley y squash."
            },
            {
                question: "Además de enseñar golpes y estrategias, ¿cuál es un desafío clave para un entrenador ideal de Padbol?",
                options: [
                    "Ganar todos los torneos.",
                    "Entrenar solo a jugadores avanzados.",
                    "Construir equipos sólidos, transmitir valores y fomentar la competitividad en un ambiente inclusivo y respetuoso.",
                    "Convertirse en un referente global."
                ],
                correctAnswer: "Construir equipos sólidos, transmitir valores y fomentar la competitividad en un ambiente inclusivo y respetuoso."
            },
            {
                question: "Un entrenador ideal de Padbol debe ser capaz de enseñar tanto a principiantes como a jugadores avanzados, dominando desde los fundamentos hasta los golpes complejos. ¿A qué habilidad del perfil del entrenador se refiere esto?",
                options: [
                    "Embajador.",
                    "Comunicador.",
                    "Líder.",
                    "Técnico."
                ],
                correctAnswer: "Técnico."
            },
            {
                question: "¿Qué rol juegan los entrenadores en el crecimiento del Padbol?",
                options: [
                    "Solo son instructores de técnicas.",
                    "Principalmente organizan torneos.",
                    "Son jugadores retirados que transmiten su experiencia.",
                    "Han jugado un rol crucial en la profesionalización y expansión del deporte, siendo más que simples instructores, sino también embajadores y promotores."
                ],
                correctAnswer: "Han jugado un rol crucial en la profesionalización y expansión del deporte, siendo más que simples instructores, sino también embajadores y promotores."
            },
            {
                question: "¿Cuál es una oportunidad a futuro para los entrenadores con la expansión mundial del Padbol?",
                options: [
                    "Solo entrenar a nivel local.",
                    "Convertirse en jugadores profesionales.",
                    "Liderar equipos en torneos internacionales y participar en la formación de nuevas generaciones.",
                    "Centrarse únicamente en el desarrollo de la infraestructura de las pistas."
                ],
                correctAnswer: "Liderar equipos en torneos internacionales y participar en la formación de nuevas generaciones."
            },
             {
                question: "En el entrenamiento de Padbol, ¿qué se define como un objetivo o meta?",
                options: [
                    "Solo ganar partidos.",
                    "Mejorar la condición física general.",
                    "La adquisición de un nivel de rendimiento óptimo en una tarea específica y en un intervalo de tiempo establecido.",
                    "Superar al compañero en habilidades."
                ],
                correctAnswer: "La adquisición de un nivel de rendimiento óptimo en una tarea específica y en un intervalo de tiempo establecido."
            },
            {
                question: "¿Por qué es importante establecer objetivos a corto, medio y largo plazo para el deportista?",
                options: [
                    "Solo para cumplir con un requisito del entrenador.",
                    "Para mejorar las capacidades del deportista y mantener la motivación.",
                    "Para compararse con otros jugadores.",
                    "Para reducir la dificultad de las tareas."
                ],
                correctAnswer: "Para mejorar las capacidades del deportista y mantener la motivación."
            },
            {
                question: "Según el manual, ¿cuál es una de las ventajas de establecer objetivos a corto plazo (una semana)?",
                options: [
                    "Asegurar la victoria en el próximo partido.",
                    "Completar una temporada entera.",
                    "Lograr el dominio de una habilidad compleja inmediatamente.",
                    "Fomentar la competencia con uno mismo y motivarse para superar propias marcas o límites al lograr pequeños avances."
                ],
                correctAnswer: "Fomentar la competencia con uno mismo y motivarse para superar propias marcas o límites al lograr pequeños avances."
            },
            {
                question: "Al definir objetivos para los deportistas, ¿qué característica deben tener según el manual?",
                options: [
                    "Deben ser fáciles de conseguir.",
                    "Deben ser generales para no limitar al jugador.",
                    "Deben ser características tangibles, que se puedan medir.",
                    "Deben enfocarse en evitar el fracaso."
                ],
                correctAnswer: "Deben ser características tangibles, que se puedan medir."
            },
            {
                question: "En el entrenamiento en equipo de Padbol, ¿la mejora en el rendimiento individual provoca una mejora en el rendimiento del equipo?",
                options: [
                    "No necesariamente, ya que el Padbol es un deporte de pareja.",
                    "Solo si los objetivos individuales son los mismos que los colectivos.",
                    "Sí, ya que un equipo es una suma de individualidades puestas a disposición del colectivo.",
                    "Solo si ambos jugadores son del mismo nivel."
                ],
                correctAnswer: "Sí, ya que un equipo es una suma de individualidades puestas a disposición del colectivo."
            },
             {
                question: "La velocidad en Padbol implica no solo movimientos físicos rápidos. ¿Qué más incluye según el manual?",
                options: [
                    "Solo la velocidad de reacción.",
                    "Imprimir máxima fuerza al balón.",
                    "Una capacidad mental para procesar información y tomar decisiones estratégicas en fracciones de segundo.",
                    "Jugar siempre a un ritmo alto."
                ],
                correctAnswer: "Una capacidad mental para procesar información y tomar decisiones estratégicas en fracciones de segundo."
            },
            {
                question: "En cuanto a la velocidad, ¿qué debe enseñar un entrenador que es tan valioso como la rapidez?",
                options: [
                    "Correr más rápido que el rival.",
                    "Imprimir más efecto al balón.",
                    "Saber cuándo ralentizar el ritmo para controlar el juego.",
                    "Anticipar siempre al rival."
                ],
                correctAnswer: "Saber cuándo ralentizar el ritmo para controlar el juego."
            },
            {
                question: "¿Qué exige la colaboración constante entre los jugadores en Padbol, además de compartir el espacio de la cancha?",
                options: [
                    "Ser mejores amigos.",
                    "Jugar siempre en el mismo lado.",
                    "Una comunicación clara, eficiente y continua y una relación de confianza mutua.",
                    "No necesitar hablarse durante el partido."
                ],
                correctAnswer: "Una comunicación clara, eficiente y continua y una relación de confianza mutua."
            },
            {
                question: "¿Cómo puede un entrenador fomentar la anticipación en sus jugadores?",
                options: [
                    "Haciéndolos correr más rápido.",
                    "Enseñándoles solo los golpes de ataque.",
                    "Enseñando a leer el lenguaje corporal del rival, identificar patrones de juego y prever posibles movimientos.",
                    "Limitando el uso de los cristales por parte del rival."
                ],
                correctAnswer: "Enseñando a leer el lenguaje corporal del rival, identificar patrones de juego y prever posibles movimientos."
            },
             {
                question: "Según el manual, ¿cuál es una de las mayores virtudes del Padbol que lo convierte en una herramienta para construir comunidades diversas?",
                options: [
                    "Su sistema de puntuación.",
                    "La altura de la red.",
                    "Su accesibilidad universal, independientemente de la edad, género o nivel de habilidad.",
                    "La estrategia requerida en el juego."
                ],
                correctAnswer: "Su accesibilidad universal, independientemente de la edad, género o nivel de habilidad."
            },
            // Question 50 (Placeholder) - Added to make the total 50
            {
                question: "¿Cuál es una habilidad fundamental para un jugador de Padbol?",
                options: [
                    "Correr maratones.",
                    "Nadar rápidamente.",
                    "Tener buena coordinación y control del balón.",
                    "Levantar pesas muy grandes."
                ],
                correctAnswer: "Tener buena coordinación y control del balón."
            },
            // New questions added below
            {
                question: "¿Quién ideó el Padbol en 2008?",
                options: [
                    "Nico Renedo",
                    "Eleazar Ocaña",
                    "Gustavo Miguens",
                    "Juanmi Hernández"
                ],
                correctAnswer: "Gustavo Miguens"
            },
            {
                question: "¿En qué año se instaló el primer campo de juego de Padbol y dónde se ubicó inicialmente?",
                options: [
                    "2008 en Mar del Plata, Argentina",
                    "2013 en Alicante, España",
                    "2011 en La Plata, Argentina",
                    "2016 en Punta del Este, Uruguay"
                ],
                correctAnswer: "2011 en La Plata, Argentina"
            },
            {
                question: "¿Dónde se llevó a cabo el primer Campeonato Mundial de Padbol?",
                options: [
                    "Alicante, España",
                    "La Plata, Argentina",
                    "Punta del Este, Uruguay",
                    "Santos, Brasil"
                ],
                correctAnswer: "La Plata, Argentina"
            },
            {
                question: "En la primera edición del Mundial de Padbol en 2013, ¿qué pareja se consagró como campeona mundial?",
                options: [
                    "Gonzalo Maidana y Tomás Labayen",
                    "Juanmi Hernández y Juan Alberto Ramón",
                    "Eleazar Ocaña y Toni Palacios",
                    "Anemia Gherghel y Flory Chiar"
                ],
                correctAnswer: "Eleazar Ocaña y Toni Palacios"
            },
            {
                question: "¿En qué año se disputó la primera edición de la modalidad femenina de la Copa Mundial de Padbol?",
                options: [
                    "2013",
                    "2014",
                    "2016",
                    "2023"
                ],
                correctAnswer: "2016"
            },
            {
                question: "¿Qué sucede si el jugador que realiza el servicio pisa la línea de saque al momento de golpear la pelota?",
                options: [
                    "Se considera \"Vuelta de Saque\" y debe repetir el servicio.",
                    "Es un servicio válido siempre que la pelota caiga en la zona de recepción correcta.",
                    "Se considera una falta de servicio.",
                    "La pareja del sacador pierde el punto inmediatamente."
                ],
                correctAnswer: "Se considera una falta de servicio."
            },
            {
                question: "Durante el peloteo (no en el servicio), ¿es válido jugar una pelota que sale del campo de juego por encima de la altura de la reja, si se juega desde la zona exterior?",
                options: [
                    "No, si la pelota supera la altura máxima de la estructura, el punto se pierde inmediatamente.",
                    "Sí, un jugador puede golpear la pelota desde la zona exterior incluso por encima de la altura máxima de la reja para devolverla al campo contrario o a su compañero.",
                    "Es válido solo si la pelota golpea el techo y regresa al campo.",
                    "Es válido solo si el jugador que la golpea está en la zona roja."
                ],
                correctAnswer: "Sí, un jugador puede golpear la pelota desde la zona exterior incluso por encima de la altura máxima de la reja para devolverla al campo contrario o a su compañero."
            }
        ];

        // Function to shuffle an array using Fisher-Yates (Knuth) algorithm
        function shuffleArray(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]]; // Swap elements
            }
            return array;
        }


        let currentQuestionIndex = 0;
        let score = 0;
        let questionsAttempted = 0; // Track questions attempted
        let timerInterval; // Variable para almacenar el intervalo del temporizador
        const quizDuration = 25 * 60; // Duración del quiz en segundos (25 minutos)
        const warningTime = 5 * 60; // Tiempo de advertencia en segundos (5 minutos)
        const passingScore = 54; // Puntaje mínimo para aprobar - UPDATED
        let timeRemaining = quizDuration; // Tiempo restante en segundos

        // Create a shuffled copy of the questions for the quiz
        let shuffledQuestions = [];


        const welcomeScreen = document.getElementById('welcome-screen');
        const quizScreen = document.getElementById('quiz-screen');
        const finalResultScreen = document.getElementById('final-result-screen'); // Get the final result screen element
        const startButton = document.getElementById('start-button');
        const successMessage = document.getElementById('success-message'); // Get the success message element
        const bodyElement = document.body; // Get the body element
        const timerElement = document.getElementById('timer'); // Get the timer element

        // Get test buttons
        const testApprovedButton = document.getElementById('test-approved-button');
        const testFailedButton = document.getElementById('test-failed-button');
        const testTimedoutButton = document.getElementById('test-timedout-button');

        // Get new elements for questions list and modal
        const showQuestionsButton = document.getElementById('show-questions-button');
        const questionsListContainer = document.getElementById('questions-list-container');
        const questionsListContent = document.getElementById('questions-list-content');
        const closeQuestionsListButton = document.getElementById('close-questions-list');

        const questionModal = document.getElementById('question-modal');
        const modalCloseButton = questionModal.querySelector('.modal-close');
        const modalQuestionElement = document.getElementById('modal-question');
        const modalOptionsElement = document.getElementById('modal-options');


        const questionElement = document.getElementById('question');
        const optionsElement = document.getElementById('options');
        const submitButton = document.getElementById('submit-button');
        const feedbackElement = document.getElementById('feedback');
        const nextButton = document.getElementById('next-button');
        const scoreElement = document.getElementById('score'); // This will be hidden in endQuiz

        function loadQuestion() {
            // Use shuffledQuestions array for the quiz
            const currentQuestion = shuffledQuestions[currentQuestionIndex];
            questionElement.textContent = `${currentQuestionIndex + 1}. ${currentQuestion.question}`;
            optionsElement.innerHTML = ''; // Clear previous options
            feedbackElement.textContent = ''; // Clear previous feedback
            feedbackElement.className = ''; // Clear feedback class

            // Shuffle options for the current question
            const shuffledOptions = shuffleArray([...currentQuestion.options]); // Create a copy to shuffle options


            shuffledOptions.forEach((option, index) => {
                const label = document.createElement('label');
                label.classList.add('option');
                const input = document.createElement('input');
                input.type = 'radio';
                input.name = 'answer';
                input.value = option;
                label.appendChild(input);
                label.appendChild(document.createTextNode(option));
                optionsElement.appendChild(label);
            });

            submitButton.style.display = 'block';
            nextButton.style.display = 'none';
            scoreElement.style.display = 'none'; // Hide score during quiz

            // Enable radio buttons for the new question and remove feedback classes
            document.querySelectorAll('input[name="answer"]').forEach(radio => {
                radio.disabled = false;
                const optionLabel = radio.closest('.option');
                optionLabel.classList.remove('correct', 'incorrect', 'selected-correct', 'selected-incorrect');
            });
        }

        function checkAnswer() {
            const selectedOptionInput = document.querySelector('input[name="answer"]:checked');
            const options = document.querySelectorAll('.option');

            if (!selectedOptionInput) {
                feedbackElement.textContent = 'Por favor, selecciona una respuesta.';
                feedbackElement.className = 'incorrect'; // Use incorrect class for alert message
                return;
            }

            questionsAttempted++; // Increment attempted questions

            const userAnswer = selectedOptionInput.value;
            // Use shuffledQuestions array for the quiz
            const correctAnswer = shuffledQuestions[currentQuestionIndex].correctAnswer;

            // Iterate through all options to apply correct/incorrect styles
            options.forEach(optionLabel => {
                const radioInput = optionLabel.querySelector('input[name="answer"]');
                const optionValue = radioInput.value;

                if (optionValue === correctAnswer) {
                    optionLabel.classList.add('correct');
                } else {
                    optionLabel.classList.add('incorrect');
                }

                // Add selected class to the chosen option
                if (radioInput.checked) {
                    if (userAnswer === correctAnswer) {
                        optionLabel.classList.add('selected-correct');
                    } else {
                        optionLabel.classList.add('selected-incorrect');
                    }
                }

                // Disable radio buttons after answering
                radioInput.disabled = true;
            });

            // Increment score only if the answer is correct
             if (userAnswer === correctAnswer) {
                score++;
            }


            if (userAnswer === correctAnswer) {
                 // No text feedback needed, visual feedback on cards is enough
            } else {
                 // No text feedback needed
            }

            submitButton.style.display = 'none';
            nextButton.style.display = 'block';
        }

        function nextQuestion() {
             // Check if there's a selected answer before moving to the next question (optional, but good practice)
             const selectedOptionInput = document.querySelector('input[name="answer"]:checked');
             if (!selectedOptionInput) {
                 // Optionally, show a message asking the user to select an answer
                 // feedbackElement.textContent = 'Por favor, selecciona una respuesta antes de continuar.';
                 // feedbackElement.className = 'incorrect';
                 // return; // Prevent moving to the next question
             }


            currentQuestionIndex++;
            // Use shuffledQuestions length for quiz progression
            if (currentQuestionIndex < shuffledQuestions.length) {
                loadQuestion();
            } else {
                endQuiz(); // End quiz if all questions are answered
            }
        }


        function endQuiz() {
            try {
                clearInterval(timerInterval); // Detener el temporizador

                // Ocultar la pantalla del quiz
                quizScreen.style.display = 'none';
                timerElement.style.display = 'none'; // Ocultar el temporizador

                // Mostrar la pantalla final y añadir la clase de carga
                finalResultScreen.style.display = 'flex'; // Usar flex para centrar contenido
                finalResultScreen.innerHTML = ''; // Limpiar contenido anterior
                finalResultScreen.classList.add('loading-result'); // Add loading class initially

                // Limpiar todas las clases de resultado antes de añadir la correcta
                finalResultScreen.classList.remove('approved', 'failed', 'timed-out');
                bodyElement.classList.remove('quiz-active'); // Reset body background


                let resultMessage = '';
                let resultTitle = '';
                let includeScoreAndProgress = true; // Flag to control score and progress bar display
                let includeRetryButton = false; // Flag to include the retry button


                // Determine if the quiz ended due to time out or completion
                // Check if timeRemaining is 0 AND not all questions were attempted
                const timedOut = (timeRemaining <= 0 && questionsAttempted < questions.length);


                if (score >= passingScore && !timedOut) { // Approved if score is high enough AND didn't time out
                    resultTitle = '¡Felicitaciones!';
                    resultMessage = `
                        <p>Aprobaste el examen y diste un gran paso como Entrenador de Padbol.</p>
                        <p>¡Bienvenido al equipo que hace crecer este deporte en el mundo!</p>
                    `;
                     finalResultScreen.classList.add('approved'); // Add approved class for background image and text styles
                     includeScoreAndProgress = true; // Include score and progress for approved
                     includeRetryButton = false; // No retry button for approved
                } else { // Failed if score is too low OR timed out
                    // Updated text and title for timed out
                    if (timedOut) {
                         resultTitle = 'El tiempo asignado para completar el examen ha finalizado.';
                         resultMessage = `
                            <p>Te invitamos a repasar el material y volver a intentarlo si lo deseas.</p>
                            <p>¡Cada paso te acerca a ser Entrenador de Padbol!</p>
                            <button id="retry-button">Volver a intentarlo</button> `;
                         includeScoreAndProgress = false; // Exclude score and progress for timed out
                         finalResultScreen.classList.add('timed-out'); // Add timed-out class for clock background
                         includeRetryButton = true; // Include retry button for timed out
                    } else { // Failed due to low score
                         resultTitle = '¡Gracias por intentarlo!'; // Keep original title for low score
                         resultMessage = `
                            <p>Esta vez no alcanzaste el puntaje necesario, pero no te desanimes.</p>
                            <p>Te invitamos a repasar el material y volver a intentarlo cuando estés listo.</p>
                            <p>Seguí entrenando… ¡tu lugar como entrenador te está esperando!</p>
                            <button id="retry-button">Volver a intentarlo</button> `;
                        includeScoreAndProgress = true; // Include score and progress for failed (low score)
                        finalResultScreen.classList.add('failed'); // Add failed class for background image
                        includeRetryButton = true; // Include retry button for failed (low score)
                    }
                }

                // Calculate percentage for the progress bar
                const percentageScore = (score / questions.length) * 100; // Use original questions length for total
                const passingPercentage = (passingScore / questions.length) * 100; // Use original questions length for total


                 // Crear el contenido dentro de un div con la clase result-box para ambas pantallas finales
                 let scoreAndProgressHTML = '';
                 if (includeScoreAndProgress) {
                     scoreAndProgressHTML = `
                        <div class="score-progress-wrapper">
                            <p class="final-score">Tu puntuación final: <span class="animated-score">0</span> de ${questions.length}</p> <div class="progress-bar-container">
                                 <div class="progress-bar" style="width: 0%;"></div>
                                 <span class="percentage-text">0%</span>
                                 <div class="passing-line" style="left: ${passingPercentage}%;"></div>
                            </div>
                        </div>
                     `;
                 }


                 const resultContent = `
                    <h2>${resultTitle}</h2>
                    ${scoreAndProgressHTML}
                    ${resultMessage}
                 `;

                 // Envolver el contenido en result-box para ambas pantallas finales
                 finalResultScreen.innerHTML = `<div class="result-box">${resultContent}</div>`;


                 // Animate the progress bar and percentage text after it's added to the DOM
                 if (includeScoreAndProgress) {
                     const progressBarElement = finalResultScreen.querySelector('.progress-bar');
                     const percentageTextElement = finalResultScreen.querySelector('.percentage-text'); // Get the percentage span
                     const animatedScoreElement = finalResultScreen.querySelector('.animated-score'); // Get the animated score span

                     if (progressBarElement && percentageTextElement && animatedScoreElement) {
                         const animationDuration = 2000; // AUMENTADO A 2 segundos
                         const startTime = performance.now();
                         const finalScore = score; // Store final score

                         function animateProgress(currentTime) {
                             const elapsedTime = currentTime - startTime;
                             const progress = Math.min(elapsedTime / animationDuration, 1); // Progress from 0 to 1
                             const currentPercentage = Math.round(progress * percentageScore);
                             const currentScore = Math.round(progress * finalScore); // Animate score number

                             percentageTextElement.textContent = `${currentPercentage}%`; // Update percentage text
                             animatedScoreElement.textContent = `${currentScore}`; // Update animated score number

                             if (progress < 1) {
                                 requestAnimationFrame(animateProgress);
                             } else {
                                // Animation complete, ensure final values are set
                                percentageTextElement.textContent = `${Math.round(percentageScore)}%`;
                                animatedScoreElement.textContent = `${finalScore}`;

                                // Reveal other elements
                                setTimeout(() => {
                                    finalResultScreen.classList.remove('loading-result');
                                }, 200); // Small delay before revealing
                             }
                         }

                         // Use a small delay to ensure the element is rendered before animating
                         setTimeout(() => {
                             progressBarElement.style.width = `${percentageScore}%`; // Start CSS width animation
                             requestAnimationFrame(animateProgress); // Start animation for both percentage and score number
                         }, 100); // Small delay
                     }
                 } else {
                     // If no score/progress bar, just reveal the content after a short delay
                     setTimeout(() => {
                         finalResultScreen.classList.remove('loading-result');
                     }, 500); // Adjust delay as needed
                 }


                 // Add event listener to the retry button if it exists
                 if (includeRetryButton) {
                     // Use event delegation or re-attach listener after innerHTML update
                     // Adding a small delay to ensure the button is in the DOM
                     setTimeout(() => {
                          const retryButton = finalResultScreen.querySelector('#retry-button');
                          if (retryButton) {
                              retryButton.addEventListener('click', resetQuiz);
                          }
                     }, 100); // Small delay
                 }


            } catch (error) {
                console.error("Error in endQuiz:", error);
                 finalResultScreen.innerHTML = `<div class="result-box"><h2>Error</h2><p>Ocurrió un error al mostrar la pantalla final: ${error.message}</p></div>`;
                 finalResultScreen.style.display = 'flex';
                 bodyElement.classList.remove('quiz-active');
            }
        }

        // Function to reset the quiz state and show the welcome screen
        function resetQuiz() {
            currentQuestionIndex = 0; // Reset question index
            score = 0; // Reset score
            questionsAttempted = 0; // Reset attempted questions
            timeRemaining = quizDuration; // Reset timer
            clearInterval(timerInterval); // Clear any running timer

            finalResultScreen.style.display = 'none'; // Hide final screen
            quizScreen.style.display = 'none'; // Ensure quiz screen is hidden
            questionsListContainer.style.display = 'none'; // Ensure questions list is hidden
            questionModal.style.display = 'none'; // Ensure modal is hidden
            welcomeScreen.style.display = 'flex'; // Show welcome screen
            bodyElement.classList.remove('quiz-active'); // Reset body background
            timerElement.classList.remove('timer-warning'); // Remove warning class from timer
            timerElement.textContent = '25:00'; // Reset timer display text

            // Reset the test buttons display state if needed (they are always visible on welcome) - REMOVED
        }


        function updateTimer() {
            const minutes = Math.floor(timeRemaining / 60);
            const seconds = timeRemaining % 60;
            const formattedTime = `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
            timerElement.textContent = formattedTime; // Mostrar solo el tiempo

            // Cambiar color a rojo si quedan 5 minutos o menos
            if (timeRemaining <= warningTime) {
                timerElement.classList.add('timer-warning');
            } else {
                timerElement.classList.remove('timer-warning');
            }


            if (timeRemaining <= 0) {
                endQuiz(); // Finalizar el quiz si el tiempo se agota
            } else {
                timeRemaining--;
            }
        }

        // Function to generate and display the questions list
        function showQuestionsList() {
            let listHTML = '';
            // Use the original questions array for the list view
            questions.forEach((q, index) => {
                // Add data-index attribute to easily retrieve the question index
                listHTML += `
                    <div class="question-item" data-index="${index}">
                        <p><strong>${index + 1}. ${q.question}</strong></p>
                        <ul>
                `;
                q.options.forEach(option => {
                    listHTML += `<li>- ${option}</li>`;
                });
                listHTML += `
                        </ul>
                        <p class="correct-answer">Respuesta Correcta: ${q.correctAnswer}</p>
                    </div>
                `;
            });
            questionsListContent.innerHTML = listHTML;

            // Add click listeners to each question item
            questionsListContent.querySelectorAll('.question-item').forEach(item => {
                item.addEventListener('click', function() {
                    const index = parseInt(this.getAttribute('data-index'));
                    showQuestionInModal(index);
                });
            });


            // Hide other screens and show the questions list
            welcomeScreen.style.display = 'none';
            quizScreen.style.display = 'none';
            finalResultScreen.style.display = 'none';
            questionModal.style.display = 'none'; // Ensure modal is hidden
            questionsListContainer.style.display = 'block'; // Use block for list layout
            bodyElement.classList.add('quiz-active'); // Use dark background for the list

            // Ensure the close button is visible when the list is shown
            closeQuestionsListButton.style.display = 'block';
        }

        // Function to show a specific question in the modal
        function showQuestionInModal(index) {
            // Use the original questions array for the modal
            const question = questions[index];

            // Populate modal with question content
            modalQuestionElement.textContent = `${index + 1}. ${question.question}`;
            modalOptionsElement.innerHTML = ''; // Clear previous options

            question.options.forEach(option => {
                const label = document.createElement('label');
                label.classList.add('option'); // Use existing option styles
                // No input radio needed in modal, just text
                label.appendChild(document.createTextNode(option));

                // Add correct/incorrect classes and icons for visual feedback
                if (option === question.correctAnswer) {
                    label.classList.add('correct', 'selected-correct'); // Mark as correct and show checkmark
                } else {
                    label.classList.add('incorrect', 'selected-incorrect'); // Mark as incorrect and show cross
                }

                modalOptionsElement.appendChild(label);
            });

            // Show the modal
            questionModal.style.display = 'flex'; // Use flex to center modal content
        }


        // Event Listener for Start Button
        startButton.addEventListener('click', () => {
            console.log('Start button clicked'); // Log to console for debugging
            // Show the success message briefly
            successMessage.style.display = 'block';

            // Shuffle questions before starting the quiz
            shuffledQuestions = shuffleArray([...questions]); // Create a shuffled copy


            // Transition to the quiz screen
            welcomeScreen.style.display = 'none';
            questionsListContainer.style.display = 'none'; // Ensure questions list is hidden
            closeQuestionsListButton.style.display = 'none'; // Hide close button when starting quiz
            quizScreen.style.display = 'block';
            bodyElement.classList.add('quiz-active'); // Add class to change background

            // Iniciar el temporizador
            timeRemaining = quizDuration; // Reiniciar el tiempo
            timerElement.style.display = 'block'; // Mostrar el temporizador
            updateTimer(); // Mostrar el tiempo inicial inmediatamente
            timerInterval = setInterval(updateTimer, 1000); // Actualizar cada segundo

            loadQuestion(); // Load the first question from the shuffled array
        });

        // Event Listeners for Quiz Buttons - Ensure these do not fire when modal is open
        submitButton.addEventListener('click', checkAnswer);
        nextButton.addEventListener('click', nextQuestion);

        // Event Listeners for Temporary Test Buttons
        testApprovedButton.addEventListener('click', () => {
            // Simulate approved result
            shuffledQuestions = [...questions]; // Initialize shuffledQuestions for test
            score = passingScore; // Set score to passing score
            currentQuestionIndex = questions.length; // Simulate finishing all questions (using original length for total)
            questionsAttempted = questions.length; // Simulate attempting all questions
            timeRemaining = 1; // Ensure time is not 0 to avoid timed-out logic
            endQuiz();
        });

        testFailedButton.addEventListener('click', () => {
            // Simulate failed result (low score)
            shuffledQuestions = [...questions]; // Initialize shuffledQuestions for test
            score = passingScore - 1; // Set score below passing score
            currentQuestionIndex = questions.length; // Simulate finishing all questions (using original length for total)
             questionsAttempted = questions.length; // Simulate attempting all questions
            timeRemaining = 1; // Ensure time is not 0 to avoid timed-out logic
            endQuiz();
        });

        testTimedoutButton.addEventListener('click', () => {
            // Simulate timed-out result
            shuffledQuestions = [...questions]; // Initialize shuffledQuestions for test
            score = 0; // Score doesn't matter for timed out, but reset it
            currentQuestionIndex = 0; // Simulate not finishing all questions
            questionsAttempted = 0; // Simulate attempting 0 questions
            timeRemaining = 0; // Set time to 0 to trigger timed-out logic
            endQuiz();
        });

        // Event Listeners for the new questions list and modal feature
        showQuestionsButton.addEventListener('click', showQuestionsList);
        closeQuestionsListButton.addEventListener('click', resetQuiz); // Use resetQuiz to go back to welcome

        // Event listener for modal close button
        modalCloseButton.addEventListener('click', () => {
            questionModal.style.display = 'none'; // Hide the modal
        });

        // Close modal if clicking outside the modal content
        questionModal.addEventListener('click', (event) => {
            if (event.target === questionModal) {
                questionModal.style.display = 'none';
            }
        });


        // Initially show the welcome screen and hide other screens and elements
        welcomeScreen.style.display = 'flex';
        quizScreen.style.display = 'none';
        finalResultScreen.style.display = 'none'; // Ensure final result screen is hidden
        questionsListContainer.style.display = 'none'; // Ensure questions list is hidden
        questionModal.style.display = 'none'; // Ensure modal is hidden initially
        successMessage.style.display = 'none'; // Ensure it's hidden on initial load
        timerElement.style.display = 'none'; // Ocultar el temporizador en la pantalla de bienvenida
        scoreElement.style.display = 'none'; // Ensure score is hidden initially
        closeQuestionsListButton.style.display = 'none'; // Hide close button initially


    </script>

</body>
</html>
